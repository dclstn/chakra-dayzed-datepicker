"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@chakra-ui/react"),t=require("dayzed"),n=require("react"),a=require("date-fns"),o=require("react-focus-lock");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=r(n),s=r(o),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t.indexOf(n=r[a])>=0||(o[n]=e[n]);return o}var c=function(){function e(e){this.config=void 0,this.config=e}return e.prototype.getEvents=function(){var e=this;return{onKeyDown:function(t){switch(t.key){case"ArrowDown":e.config.down&&e.config.down();break;case"ArrowLeft":e.config.left&&e.config.left();break;case"ArrowRight":e.config.right&&e.config.right();break;case"ArrowUp":e.config.up&&e.config.up()}}}},e}(),p={variant:"ghost",size:"sm"},m=function(t){var a,o=t.calendars,r=t.getBackProps,s=null==(a=t.propsConfigs)?void 0:a.dateNavBtnProps;return l.default.createElement(n.Fragment,null,l.default.createElement(e.Button,d({},r({calendars:o,offset:12}),p,s),"<<"),l.default.createElement(e.Button,d({},r({calendars:o}),p,s),"<"))},g=function(t){var a,o=t.calendars,r=t.getForwardProps,s=null==(a=t.propsConfigs)?void 0:a.dateNavBtnProps;return l.default.createElement(n.Fragment,null,l.default.createElement(e.Button,d({},r({calendars:o}),p,s),">"),l.default.createElement(e.Button,d({},r({calendars:o,offset:12}),p,s),">>"))},v=function(t){var a=t.dateObj,o=t.propsConfigs,r=t.isInRange,s=t.disabledDates,i=t.isDateDisabled,u=t.onMouseEnter,f=a.date,c=a.selected,p=a.today,m=t.renderProps.getDateProps,g=(null==o?void 0:o.dayOfMonthBtnProps)||{},v=g.defaultBtnProps,y=g.isInRangeBtnProps,h=g.selectedBtnProps,D=g.todayBtnProps,P=!a.selectable||(null==s?void 0:s.has(f.getTime()))||(null==i?void 0:i(f)),b=n.useMemo((function(){var e;return{defaultBtnProps:d({size:"sm",variant:"ghost"},v,{_after:d({content:"''",position:"absolute",top:"-0.125rem",left:"-0.125rem",bottom:"-0.125rem",right:"-0.125rem",borderWidth:"0.125rem",borderColor:"transparent"},null==v?void 0:v._after),_hover:d({bg:"purple.400"},null==v?void 0:v._hover,{_disabled:d({bg:"gray.100"},null==v||null==(e=v._hover)?void 0:e._disabled)})}),isInRangeBtnProps:d({background:"purple.200"},y),selectedBtnProps:d({background:"purple.200"},h),todayBtnProps:d({borderColor:"blue.400"},D)}}),[v,y,h,D]);return l.default.createElement(e.Button,d({},m({dateObj:a,disabled:P,onMouseEnter:u}),{isDisabled:P},b.defaultBtnProps,r&&!P&&b.isInRangeBtnProps,c&&!P&&b.selectedBtnProps,p&&b.todayBtnProps),f.getDate())},y=function(a){var o=a.configs,r=a.propsConfigs,s=a.disabledDates,i=a.isDateDisabled,u=a.onMouseEnterHighlight,f=a.isInRange,p=t.useDayzed(a.dayzedHookProps),y=p.calendars,h=p.getBackProps,D=p.getForwardProps,P=n.useMemo((function(){var e=o.firstDayOfWeek,t=o.dayNames;return e&&e>0?o.dayNames.slice(e,t.length).concat(t.slice(0,e)):t}),[o.firstDayOfWeek,o.dayNames]),b=n.useCallback((function(e){var t=document.activeElement,n=document.querySelectorAll("button");n.forEach((function(a,o){var r=o+e;a===t&&(r<=n.length-1&&r>=0?n[r].focus():n[0].focus())}))}),[]),E=new c({left:function(){b(-1)},right:function(){b(1)},up:function(){b(-7)},down:function(){b(7)}});return y.length<=0?null:l.default.createElement(e.Stack,d({className:"datepicker-calendar",direction:["column","column","row"]},E.getEvents()),y.map((function(t,n){return l.default.createElement(e.VStack,{key:n,height:"100%",borderWidth:"1px",padding:"0.5rem 0.75rem"},l.default.createElement(e.HStack,null,l.default.createElement(m,{calendars:y,getBackProps:h,propsConfigs:r}),l.default.createElement(e.Heading,{size:"sm",minWidth:"5rem",textAlign:"center"},o.monthNames[t.month]," ",t.year),l.default.createElement(g,{calendars:y,getForwardProps:D,propsConfigs:r})),l.default.createElement(e.Divider,null),l.default.createElement(e.SimpleGrid,{columns:7,spacing:1,textAlign:"center"},P.map((function(t,n){return l.default.createElement(e.Box,{fontSize:"sm",fontWeight:"semibold",key:n},t)})),t.weeks.map((function(n,a){return n.map((function(n,o){var d=t.month+"-"+t.year+"-"+a+"-"+o;if(!n)return l.default.createElement(e.Box,{key:d});var c=n.date;return l.default.createElement(v,{key:d,dateObj:n,propsConfigs:r,renderProps:p,isInRange:f&&f(c),disabledDates:s,isDateDisabled:i,onMouseEnter:function(){u&&u(c)}})}))}))))})))},h=["configs","propsConfigs","usePortal","disabledDates","isDateDisabled","defaultIsOpen","closeOnSelect"],D={dateFormat:"yyyy-MM-dd",monthNames:i,dayNames:u,firstDayOfWeek:0},P=["configs","propsConfigs","id","name","usePortal","defaultIsOpen","closeOnSelect"],b=function(t){var a=t.dayzedHookProps,o=t.configs,r=t.propsConfigs,s=t.selected,i=n.useState(null),u=i[0],d=i[1];return l.default.createElement(e.Flex,{onMouseLeave:function(){d(null)}},l.default.createElement(y,{dayzedHookProps:a,configs:o,propsConfigs:r,isInRange:function(e){if(!Array.isArray(s)||null==s||!s.length)return!1;var t=s[0];return 2===s.length?t<e&&s[1]>e:u&&(t<e&&u>=e||e<t&&e>=u)},onMouseEnterHighlight:function(e){Array.isArray(s)&&null!=s&&s.length&&d(e)}}))},E={dateFormat:"MM/dd/yyyy",monthNames:i,dayNames:u,firstDayOfWeek:0};exports.CalendarPanel=y,exports.Month_Names_Full=["January","February","March","April","May","June","July","August","September","October","November","December"],exports.Month_Names_Short=i,exports.RangeCalendarPanel=b,exports.RangeDatepicker=function(t){var o,r,i=t.configs,u=t.propsConfigs,c=void 0===u?{}:u,p=t.id,m=t.name,g=t.usePortal,v=t.defaultIsOpen,y=void 0!==v&&v,h=t.closeOnSelect,D=void 0===h||h,O=f(t,P),k=O.selectedDates,C=O.minDate,B=O.maxDate,S=O.onDateChange,w=O.disabled,M=n.useState(k[0]||new Date),x=M[0],N=M[1],F=n.useState(0),A=F[0],I=F[1],_=e.useDisclosure({defaultIsOpen:y}),W=_.onOpen,z=_.onClose,R=_.isOpen,j=d({},E,i),H=k[0]?""+a.format(k[0],j.dateFormat):"";H+=k[1]?" - "+a.format(k[1],j.dateFormat):"";var T=g?e.Portal:l.default.Fragment;return l.default.createElement(e.Popover,{placement:"bottom-start",variant:"responsive",isOpen:R,onOpen:W,onClose:function(){z(),N(k[0]||new Date),I(0)},isLazy:!0},l.default.createElement(e.PopoverTrigger,null,l.default.createElement(e.Input,d({onKeyPress:function(e){" "!==e.key||R||(e.preventDefault(),W())},id:p,autoComplete:"off",isDisabled:w,name:m,value:H,onChange:function(e){return e.target.value}},c.inputProps))),l.default.createElement(T,null,l.default.createElement(e.PopoverContent,d({width:"100%"},null==c||null==(o=c.popoverCompProps)?void 0:o.popoverContentProps),l.default.createElement(e.PopoverBody,d({},null==(r=c.popoverCompProps)?void 0:r.popoverBodyProps),l.default.createElement(s.default,null,l.default.createElement(b,{dayzedHookProps:{onDateSelected:function(e){var t=e.date;if(e.selectable){var n=[].concat(k);if(k.length){if(1===k.length)return k[0]<t?n.push(t):n.unshift(t),S(n),void(D&&z());if(2===n.length)return void S([t])}else n.push(t),S(n)}},selected:k,monthsToDisplay:2,date:x,minDate:C,maxDate:B,offset:A,onOffsetChanged:I,firstDayOfWeek:j.firstDayOfWeek},configs:j,propsConfigs:c,selected:k}))))))},exports.SingleDatepicker=function(t){var o,r,i=t.configs,u=t.propsConfigs,c=t.usePortal,p=t.disabledDates,m=t.isDateDisabled,g=t.defaultIsOpen,v=void 0!==g&&g,P=t.closeOnSelect,b=void 0===P||P,E=f(t,h),O=E.date,k=E.name,C=E.disabled,B=E.onDateChange,S=E.id,w=E.minDate,M=E.maxDate,x=n.useState(O),N=x[0],F=x[1],A=n.useState(0),I=A[0],_=A[1],W=e.useDisclosure({defaultIsOpen:v}),z=W.onOpen,R=W.onClose,j=W.isOpen,H=d({},D,i),T=c?e.Portal:l.default.Fragment;return l.default.createElement(e.Popover,{placement:"bottom-start",variant:"responsive",isOpen:j,onOpen:z,onClose:function(){R(),F(O),_(0)},isLazy:!0},l.default.createElement(e.PopoverTrigger,null,l.default.createElement(e.Input,d({onKeyPress:function(e){" "!==e.key||j||(e.preventDefault(),z())},id:S,autoComplete:"off",isDisabled:C,name:k,value:O?a.format(O,H.dateFormat):"",onChange:function(e){return e.target.value}},null==u?void 0:u.inputProps))),l.default.createElement(T,null,l.default.createElement(e.PopoverContent,d({width:"100%"},null==u||null==(o=u.popoverCompProps)?void 0:o.popoverContentProps),l.default.createElement(e.PopoverBody,d({},null==u||null==(r=u.popoverCompProps)?void 0:r.popoverBodyProps),l.default.createElement(s.default,null,l.default.createElement(y,{dayzedHookProps:{showOutsideDays:!0,onDateSelected:function(e){var t=e.date;if(e.selectable)return t instanceof Date&&!isNaN(t.getTime())?(B(t),void(b&&R())):void 0},selected:O,date:N,minDate:w,maxDate:M,offset:I,onOffsetChanged:_,firstDayOfWeek:H.firstDayOfWeek},configs:H,propsConfigs:u,isDateDisabled:m,disabledDates:p}))))))},exports.Weekday_Names_Short=u;
//# sourceMappingURL=chakra-dayzed-datepicker.cjs.production.min.js.map
